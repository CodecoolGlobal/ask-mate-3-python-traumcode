{% extends 'layout.html' %}

{% block head %}
    <title>Search results</title>
{% endblock %}
{% block body %}

    {% for line in search_results %}
        <div class="container-questions">
            <section class="questions">
                <div class="title-question">
                    <a class="text-decoration" href="{{ url_for('display_question', question_id=line.id) }}">{{line.title | replace (phrase, '<mark>' + phrase + '</mark>') | safe}}</a>
                </div>
                <div class="message-question flexible">
                    <p>{{line.message | lower | replace  (phrase | lower, '<mark>' + phrase + '</mark>') | safe}}</p>
                </div>
                <div class="submission-time">
                    {{line.submission_time}}
                </div>
                <div class="view-number">
                    <smal>Views: {{line.view_number}}</smal>
                </div>
                 <div class="vote-number">
                     <form action="{{ url_for('vote_up_question', question_id=line.id) }}" method="post">
                        <button type="submit">▲</button>
                     </form>
                     <small>&nbsp&nbsp{{line.vote_number}}</small>
                     <form action="{{ url_for('vote_down_question', question_id=line.id) }}" method="post">
                         <button type="submit">▼</button>
                    </form>
                </div>
                {% for data in message %}
                    {% if data['question_id'] == line.id %}
                        <small style="margin-left: 10px"><strong>A:</strong> {{ data.message | replace (phrase, '<mark>' + phrase + '</mark>') | safe}}</small>
                    {% endif %}
                {% endfor %}

            </section>
        {% endfor %}
        </div>

{% endblock %}